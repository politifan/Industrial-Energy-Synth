# Техническое задание: Параметрический EQ‑плагин (уровень FabFilter Pro‑Q)

## 1. Цель продукта

Разработка современного параметрического эквалайзера для сведения,
мастеринга и пост‑продакшна, сочетающего: - Прозрачный звук -
Высокоскоростной workflow - Визуальный анализ - Dynamic EQ -
Межинстансовые функции - Премиальный UX

------------------------------------------------------------------------

## 2. Область применения

Плагин используется для:

-   Хирургической коррекции
-   Тонального баланса
-   Динамической обработки
-   Устранения маскинга
-   Матчинга спектра
-   Стерео‑скульптинга
-   Surround / Immersive микса

------------------------------------------------------------------------

## 3. Функциональные требования

## 3.1 Полосы эквалайзера

**Количество полос:** до 24

**Типы фильтров:**

-   Bell
-   Notch
-   High Shelf
-   Low Shelf
-   High Cut
-   Low Cut
-   Band Pass
-   Tilt Shelf
-   Flat Tilt
-   All Pass (опционально)
-   Brickwall режим

**Параметры полосы:**

-   Frequency
-   Gain
-   Q
-   Slope
-   Dynamic Range
-   Threshold
-   Stereo Target

------------------------------------------------------------------------

## 3.2 Режимы обработки

-   Zero Latency
-   Natural Phase
-   Linear Phase

------------------------------------------------------------------------

## 3.3 Dynamic EQ

Любая полоса может работать в динамическом режиме.

Параметры:

-   Dynamic Range
-   Threshold (Auto / Manual)
-   Detector
-   Envelope smoothing

------------------------------------------------------------------------

## 3.4 Анализатор спектра

-   Pre / Post
-   Настройки диапазона
-   Сглаживание
-   Freeze
-   Tilt

------------------------------------------------------------------------

## 3.5 Spectrum Grab

-   Выделение пиков
-   Drag‑создание полос

------------------------------------------------------------------------

## 3.6 Collision Detection

-   Обмен спектрами между инстансами
-   Визуализация конфликтов

------------------------------------------------------------------------

## 3.7 EQ Match

-   Learn
-   Apply
-   Smoothing
-   Amount
-   Range limits

------------------------------------------------------------------------

## 3.8 Инструменты прослушивания

-   Band Solo
-   Output Meter
-   A/B
-   Undo/Redo

------------------------------------------------------------------------

## 4. DSP Архитектура (Концептуально)

-   Filter Bank (IIR / FIR)
-   FFT Analyzer
-   Envelope Followers
-   Inter‑Instance Bus
-   Linear Phase Engine

------------------------------------------------------------------------

## 5. Нефункциональные требования

### Производительность

-   Минимальная задержка в Zero Latency
-   Управляемая латентность в Linear Phase
-   Стабильность при автоматизации

### Качество звука

-   Отсутствие кликов
-   Корректная фаза
-   SR‑независимость

------------------------------------------------------------------------

# Спецификация UI / UX

## 1. Общая концепция интерфейса

Интерфейс должен быть:

-   Минималистичным
-   Интерактивным
-   Графически ориентированным
-   Высокоскоростным

Принцип: **«Все действия выполняются на графике»**

------------------------------------------------------------------------

## 2. Основная зона --- EQ Graph

### Поведение мыши

**Double Click:** - Создание новой полосы

**Drag Node:** - Горизонтально → Frequency - Вертикально → Gain

**Mouse Wheel / Trackpad:** - Изменение Q

**Modifier + Wheel:** - Изменение Slope

**Right Click Node:** - Тип фильтра - Stereo Target - Dynamic Mode

------------------------------------------------------------------------

## 3. Работа с полосами

### Multi‑Selection

**Shift + Click:** - Добавить/убрать полосу из выбора

**Drag Selection Box:** - Выбор нескольких полос

### Групповое редактирование

При множественном выборе:

-   Gain → масштабируется относительно центра
-   Frequency → относительное смещение
-   Q → пропорционально
-   Enable Dynamic → для всех выбранных

------------------------------------------------------------------------

## 4. Dynamic EQ UI

Каждая динамическая полоса содержит:

-   Dynamic Range Ring / Handle
-   Threshold Slider
-   Gain Reduction Meter
-   Auto Threshold Toggle

Визуализация:

-   Анимация динамического движения полосы
-   Индикация триггера

------------------------------------------------------------------------

## 5. Анализатор спектра

### Управление

-   Toggle Analyzer
-   Range Selector
-   Speed / Smoothing
-   Tilt Control
-   Freeze Button

### Визуализация

-   Input Curve
-   Output Curve
-   External Curve
-   Collision Overlay

------------------------------------------------------------------------

## 6. Spectrum Grab UX

-   Peaks подсвечиваются
-   Drag Peak → создаётся полоса
-   Existing Band Nearby → привязка

------------------------------------------------------------------------

## 7. Collision Detection UI

-   Instance Selector
-   Conflict Highlight
-   Overlay Mode
-   Compare Toggle

------------------------------------------------------------------------

## 8. EQ Match UI

-   Learn Button
-   Capture Indicator
-   Apply Button
-   Amount Slider
-   Smoothing Slider
-   Range Limits

------------------------------------------------------------------------

## 9. Прослушивание полос

**Alt / Solo Modifier:** - Band Solo

Поведение:

-   Узкополосный мониторинг
-   Safe Level Compensation

------------------------------------------------------------------------

## 10. Глобальные элементы UI

-   Output Meter
-   Phase Meter (опционально)
-   A/B Switch
-   Undo/Redo
-   Preset Manager

------------------------------------------------------------------------

## 11. Масштабирование интерфейса

-   Resizeable Window
-   Fullscreen Mode
-   High‑DPI Support

------------------------------------------------------------------------

## Acceptance Criteria (UI)

1.  Все операции выполняются напрямую на графике
2.  Нет модальных перегрузок
3.  Multi‑band workflow быстрый и предсказуемый
4.  Анимации плавные, без лагов
5.  Анализатор не перегружает CPU/GPU
