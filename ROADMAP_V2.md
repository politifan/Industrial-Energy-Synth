# Roadmap V2: “Beat Serum (in a niche)” for Industrial Energy Synth

Цель V2: сохранить Serum‑уровень UX (быстрый саунд-дизайн, визуальный контроль, drag‑workflow), но **переплюнуть в индустриальном нишевом кейсе**: экстремально “сломанный” механический звук, который **всё равно остаётся нотой** и хорошо управляется.

## Продуктовые “столпы” V2
- **Pitch‑Locked Destruction**: режимы разрушения, которые сохраняют фундамент/тональность даже при жести.
- **Serum‑grade Workflow**: наглядные графики, интерактивные редакторы, drag‑modulation, понятные макросы.
- **Industrial Signature**: “машина/энергия/металл” не только в UI, но и в поведении модулей (нестабильности, механические паттерны, “инструментальные” режимы).
- **Качество**: стабильность в Reaper, быстрый UI, ноль аллокаций в аудио‑потоке, предсказуемая автомейшн‑кривая.

## Текущий статус (реализовано в коде)
- (2026-02-10) Tone/Spectrum: Serum‑like EQ до 8 peak‑узлов, добавление `double-click` по пустому месту, удаление `ПКМ` по узлу.
- (2026-02-10) Destroy OS: oversampling Off/2x/4x для Fold/Clip/Mod (снижение алиасинга, цена = CPU).
- (2026-02-10) Modulation v1: 2x LFO (free/sync) + 2x Macros + 8-slot Mod Matrix + drag‑and‑drop назначение на ручки.

## V2 Milestones (после v1.0)

### V1.1 — Quality + CPU + Sound Consistency
- Oversampling (опционально/auto) именно для DestroyChain (2x/4x) + downsample фильтрация.
- Пересмотреть диапазоны и “музыкальные” скью для Drive/Amount/Mix, чтобы sweet‑spot был шире.
- Добавить ещё factory presets до 12–15 (минимум), выровнять уровни (loudness).
- UI: полировка читабельности на RU/EN (длины подписей), горячие подсказки, “safe” индикаторы клипа.
- Тест‑матрица Reaper: SR/Buffer changes, project recall, automation stress, rapid MIDI.

**Критерий:** звук “ломается” сильнее, но **реже превращается в бесформенный шум**, CPU остаётся стабильным.

### V1.2 — Modulation v1 (как у больших синтов)
- Источники: 2x LFO (sync/free), 2x envelopes (amp/filter уже есть), 2x macros.
- Mod Matrix: назначение источника на цель с bipolar depth, smoothing и scaling.
- UI: drag‑and‑drop модуляции (перетащил LFO на ручку = назначил).
- Визуализация модуляции: “кольцо” вокруг ручки / подсветка блока активности.

**Критерий:** любой патч можно оживить за 10–20 секунд без меню и без “потери ноты”.

### V1.3 — Tone/Spectrum v2 (Serum‑like FX ощущение)
- EQ: несколько узлов (2–4 peak) + low/high cut, узлы добавляются/удаляются мышью.
- Спектр: режимы pre/post (до/после destroy), freeze, averaging.
- Встроенный “Shaper” (waveshaper curve editor) как отдельный FX‑блок.

**Критерий:** пользователь реально “скульптит” спектр, а не крутит ручки вслепую.

### V2.0 — Oscillators Upgrade (Wavetable + Spectral)
- Wavetable osc: импорт таблиц, morph позиция, basic warp (bend/sync/remap).
- Режим “Spectral”: additive/FFT‑warp для получения “энергии” без потери питча.
- Editor: Serum‑grade wavetable view (таблица + стэк волн) и простые инструменты редактирования.

**Критерий:** по удобству создания wavetable‑лидов и басов не хуже Serum.

### V2.1 — Pitch‑Locked Destruction (главный USP)
Идея: дать режимы разрушения, которые сохраняют тональность лучше Serum в “жести”.
- Pitch detector (быстрый, устойчивый) + “fundamental lock”.
- Resynthesis / harmonic remap: разрушать гармоники/шум, но удерживать фундамент.
- Multi‑band destroy: 2–3 полосы с разными типами разрушения и отдельными mix.
- “Machine Modes” (готовые алгоритмические макро‑режимы):
  - Grinder / Welder / Turbine / Arc / Servo (каждый меняет характер разрушения + модуляции).

**Критерий:** можно выкрутить Destroy на максимум, но **нота читается** и “сидит” в миксе.

### V2.2 — Presets/Browser (UX как продукт)
- Браузер пресетов: теги, поиск, избранное, рейтинг/заметки, авто‑preview.
- “Smart Random”: рандомизация в рамках жанра (Bass/Lead/Drone) без развала тона.
- Версионирование пресетов: миграции параметров при добавлении новых модулей.

**Критерий:** пресеты становятся “контентом”, а не демо‑набором.

## Инженерные правила (обязательные для V2)
- Stable Parameter IDs навсегда после релиза.
- Никаких аллокаций/локов в аудио‑потоке.
- Сглаживание для всех автоматируемых “опасных” параметров (cutoff/drive/mix/eq nodes).
- UI: FFT/анализаторы только в message thread, данные через lock‑free ring buffer.
- Билингвальность RU/EN: все строки через единый i18n слой; подписи должны помещаться.
